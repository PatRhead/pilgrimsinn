acf_fc={};(function(e){acf_fc={$el:null,init:function(){var t=this;this.$el=e("#acf_fields");this.$el.on("click",".acf-fc-add",function(n){n.preventDefault();t.add(e(this).closest(".field_option"))});this.$el.on("click",".acf-fc-duplicate",function(n){n.preventDefault();t.duplicate(e(this).closest(".field_option"))});this.$el.on("click",".acf-fc-delete",function(n){n.preventDefault();t.remove(e(this).closest(".field_option"))});this.$el.on("change",".acf-fc-meta-label input",function(t){var n=e(this),r=e(this).closest(".acf-fc-meta").find(".acf-fc-meta-name input");if(r.val()==""){var i=n.val(),s={"ä":"a","æ":"a","å":"a","ö":"o","ø":"o","é":"e","ë":"e","ü":"u","ó":"o","ő":"o","ú":"u","é":"e","á":"a","ű":"u","í":"i"," ":"_","'":""};e.each(s,function(e,t){var n=new RegExp(e,"g");i=i.replace(n,t)});i=i.toLowerCase();r.val(i);r.trigger("keyup")}});this.$el.on("mouseenter",".acf-fc-reorder",function(t){var n=e(this).closest(".acf_field_form_table");if(n.hasClass("sortable"))return;n.addClass("sortable");n.children("tbody").sortable({items:".field_option_flexible_content",handle:".acf-fc-reorder",helper:acf.helpers.sortable,forceHelperSize:!0,forcePlaceholderSize:!0,scroll:!0,start:function(e,t){t.placeholder.html('<td colspan="2"></td>')}})});this.$el.on("change",".acf-fc-meta-display select",function(t){var n=e(this).closest(".acf-fc-meta").siblings(".repeater");n.removeClass("layout-row").removeClass("layout-table").addClass("layout-"+e(this).val())})},add:function(e){var t=e.clone(!1);t.find(".field:not(.field_key-field_clone)").remove();t.find(".no_fields_message").show();t.find(".acf-fc-meta input").val("");this.wipe_layout(t);e.after(t);t.find(".acf-fc-meta select").val("row").trigger("change")},duplicate:function(t){t.find("select").each(function(){e(this).attr("data-val",e(this).val())});var n=t.clone(!1);this.wipe_layout(n);n.find(".field:not(.field_key-field_clone)").each(function(){e(this).update_names()});t.after(n);n.find("select").each(function(){e(this).val(e(this).attr("data-val")).trigger("change")});n.find(".acf-fc-meta-label input").focus()},remove:function(t){if(t.siblings(".field_option_flexible_content[data-id]").length==0){alert(acf.l10n.flexible_content_delete);return!1}t.css({height:t.height(),width:t.width(),position:"absolute"});t.animate({opacity:0},250,function(){e(this).remove()});$blank=e('<tr style="height:'+t.height()+'px"><td colspan="2"></td></tr>');t.after($blank);$blank.animate({height:0},250,function(){e(this).remove()})},render:function(e){},wipe_layout:function(t){var n=t.attr("data-id"),r=acf.helpers.uniqid();t.attr("data-id",r);t.find("[name]").each(function(){var t=e(this).attr("name").replace("[layouts]["+n+"]","[layouts]["+r+"]");e(this).attr("name",t);e(this).attr("id",t)})}};e(document).on("ready",function(){acf_fc.init()});e(document).live("acf/field_form-open",function(t,n){e(n).find(".acf-fc-meta-display select").each(function(){e(this).trigger("change")})})})(jQuery);